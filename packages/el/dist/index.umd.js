(function(g,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("@sipec/vue3-tags-input"),require("element-plus"),require("@ioto/core"),require("lodash"),require("@form-create/element-ui")):typeof define=="function"&&define.amd?define(["exports","vue","@sipec/vue3-tags-input","element-plus","@ioto/core","lodash","@form-create/element-ui"],e):(g=typeof globalThis<"u"?globalThis:g||self,e(g.index={},g.Vue,g.VueTagsInput,g.elementPlus,g.core,g.lodash,g.formCreate))})(this,function(g,e,De,M,x,C,oe){"use strict";const se=t=>t&&typeof t=="object"&&"default"in t?t:{default:t},Ae=se(De),L=se(oe),Te=e.defineComponent({props:{label:{type:String,default:"\u6309\u94AE\u540D\u79F0"},icon:{type:String,default:""},class:[Object,String,Array],style:[Object,String]},setup(t,a){return{vBind:e.computed(()=>({title:"\u6807\u9898",closeOnClickModal:!1,...a.attrs}))}}});function Fe(t,a,r,n,i,o){const c=e.resolveComponent("index-dialog");return e.openBlock(),e.createBlock(c,e.mergeProps({class:"a-dialog"},t.vBind),{header:e.withCtx(()=>[e.renderSlot(t.$slots,"header")]),default:e.withCtx(()=>[e.renderSlot(t.$slots,"default")]),_:3},16)}const Gl="",R=(t,a)=>{const r=t.__vccOpts||t;for(const[n,i]of a)r[n]=i;return r},Pe=R(Te,[["render",Fe]]),je=e.defineComponent({props:{label:{type:String,default:""},icon:{type:String,default:""},suffix:{type:String,default:""},lite:{type:Boolean,default:!1}},setup(t,a){const r=e.computed(()=>({...a.attrs})),n=e.useSlots(),i=e.computed(()=>{const c={};return n.default&&(c.mr025=!0),c}),o=e.computed(()=>{const c={};return n.default&&(c.ml025=!0),c});return{iconPrevClasses:i,iconSuffixClasses:o,vBind:r}}});function Oe(t,a,r,n,i,o){const c=e.resolveComponent("index-icon"),d=e.resolveComponent("ElButton");return e.openBlock(),e.createBlock(d,e.mergeProps({class:"a-button",type:"primary"},t.vBind,{class:{lite:t.lite}}),{tip:e.withCtx(()=>[e.renderSlot(t.$slots,"tip")]),default:e.withCtx(()=>[e.renderSlot(t.$slots,"icon",{},()=>[t.icon?(e.openBlock(),e.createBlock(c,{key:0,class:e.normalizeClass(t.iconPrevClasses)},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.icon)))]),_:1},8,["class"])):e.createCommentVNode("",!0)]),e.renderSlot(t.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(t.label),1)]),e.renderSlot(t.$slots,"suffix",{},()=>[t.suffix?(e.openBlock(),e.createBlock(c,{key:0,class:e.normalizeClass({iconSuffixClasses:t.iconSuffixClasses})},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.suffix)))]),_:1},8,["class"])):e.createCommentVNode("",!0)])]),_:3},16,["class"])}const Hl="",E=R(je,[["render",Oe]]),Re=e.defineComponent({props:{total:{type:Number,default:1},pageSize:{type:Number,default:10},currentPage:{type:Number,default:1}},setup(t,a){const r=a.emit;return{vBind:e.computed(()=>({pagerCount:5,pageSizes:[10,20,30],background:!0,layout:"total, sizes, prev, pager, next, jumper",...a.attrs,...t,"onUpdate:currentPage":i=>{r("update:currentPage",i)},"onUpdate:pageSize":i=>{r("update:pageSize",i)},"onSize-change":i=>{r("size-change",i)},"onCurrent-change":i=>{r("current-change",i)}}))}}});function ze(t,a,r,n,i,o){const c=e.resolveComponent("index-pagination");return e.openBlock(),e.createBlock(c,e.mergeProps({class:"a-page"},t.vBind),null,16)}const Ul="",Ie=R(Re,[["render",ze]]);var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me=typeof Y=="object"&&Y&&Y.Object===Object&&Y,Le=Me,Ye=Le,Ge=typeof self=="object"&&self&&self.Object===Object&&self,He=Ye||Ge||Function("return this")(),J=He,Ue=J,We=Ue.Symbol,X=We,ie=X,ce=Object.prototype,qe=ce.hasOwnProperty,Ke=ce.toString,z=ie?ie.toStringTag:void 0;function Je(t){var a=qe.call(t,z),r=t[z];try{t[z]=void 0;var n=!0}catch{}var i=Ke.call(t);return n&&(a?t[z]=r:delete t[z]),i}var Xe=Je,Ze=Object.prototype,Qe=Ze.toString;function ve(t){return Qe.call(t)}var et=ve,de=X,tt=Xe,at=et,rt="[object Null]",nt="[object Undefined]",ue=de?de.toStringTag:void 0;function lt(t){return t==null?t===void 0?nt:rt:ue&&ue in Object(t)?tt(t):at(t)}var fe=lt;function ot(t){var a=typeof t;return t!=null&&(a=="object"||a=="function")}var Z=ot,st=fe,it=Z,ct="[object AsyncFunction]",dt="[object Function]",ut="[object GeneratorFunction]",ft="[object Proxy]";function mt(t){if(!it(t))return!1;var a=st(t);return a==dt||a==ut||a==ct||a==ft}var pt=mt,_t=J,ht=_t["__core-js_shared__"],gt=ht,Q=gt,me=function(){var t=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yt(t){return!!me&&me in t}var bt=yt,Ct=Function.prototype,Vt=Ct.toString;function wt(t){if(t!=null){try{return Vt.call(t)}catch{}try{return t+""}catch{}}return""}var $t=wt,St=pt,Bt=bt,xt=Z,Et=$t,kt=/[\\^$.*+?()[\]{}|]/g,Nt=/^\[object .+?Constructor\]$/,Dt=Function.prototype,At=Object.prototype,Tt=Dt.toString,Ft=At.hasOwnProperty,Pt=RegExp("^"+Tt.call(Ft).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jt(t){if(!xt(t)||Bt(t))return!1;var a=St(t)?Pt:Nt;return a.test(Et(t))}var Ot=jt;function Rt(t,a){return t==null?void 0:t[a]}var zt=Rt,It=Ot,Mt=zt;function Lt(t,a){var r=Mt(t,a);return It(r)?r:void 0}var v=Lt,Yt=v,Gt=function(){try{var t=Yt(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ht=Gt,pe=Ht;function Ut(t,a,r){a=="__proto__"&&pe?pe(t,a,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[a]=r}var Wt=Ut;function qt(t,a){return t===a||t!==t&&a!==a}var _e=qt,Kt=Wt,Jt=_e,Xt=Object.prototype,Zt=Xt.hasOwnProperty;function Qt(t,a,r){var n=t[a];(!(Zt.call(t,a)&&Jt(n,r))||r===void 0&&!(a in t))&&Kt(t,a,r)}var vt=Qt,ea=Array.isArray,ee=ea;function ta(t){return t!=null&&typeof t=="object"}var aa=ta,ra=fe,na=aa,la="[object Symbol]";function oa(t){return typeof t=="symbol"||na(t)&&ra(t)==la}var te=oa,sa=ee,ia=te,ca=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,da=/^\w*$/;function ua(t,a){if(sa(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||ia(t)?!0:da.test(t)||!ca.test(t)||a!=null&&t in Object(a)}var fa=ua,ma=v,pa=ma(Object,"create"),G=pa,he=G;function _a(){this.__data__=he?he(null):{},this.size=0}var ha=_a;function ga(t){var a=this.has(t)&&delete this.__data__[t];return this.size-=a?1:0,a}var ya=ga,ba=G,Ca="__lodash_hash_undefined__",Va=Object.prototype,wa=Va.hasOwnProperty;function $a(t){var a=this.__data__;if(ba){var r=a[t];return r===Ca?void 0:r}return wa.call(a,t)?a[t]:void 0}var Sa=$a,Ba=G,xa=Object.prototype,Ea=xa.hasOwnProperty;function ka(t){var a=this.__data__;return Ba?a[t]!==void 0:Ea.call(a,t)}var Na=ka,Da=G,Aa="__lodash_hash_undefined__";function Ta(t,a){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Da&&a===void 0?Aa:a,this}var Fa=Ta,Pa=ha,ja=ya,Oa=Sa,Ra=Na,za=Fa;function P(t){var a=-1,r=t==null?0:t.length;for(this.clear();++a<r;){var n=t[a];this.set(n[0],n[1])}}P.prototype.clear=Pa,P.prototype.delete=ja,P.prototype.get=Oa,P.prototype.has=Ra,P.prototype.set=za;var Ia=P;function Ma(){this.__data__=[],this.size=0}var La=Ma,Ya=_e;function Ga(t,a){for(var r=t.length;r--;)if(Ya(t[r][0],a))return r;return-1}var H=Ga,Ha=H,Ua=Array.prototype,Wa=Ua.splice;function qa(t){var a=this.__data__,r=Ha(a,t);if(r<0)return!1;var n=a.length-1;return r==n?a.pop():Wa.call(a,r,1),--this.size,!0}var Ka=qa,Ja=H;function Xa(t){var a=this.__data__,r=Ja(a,t);return r<0?void 0:a[r][1]}var Za=Xa,Qa=H;function va(t){return Qa(this.__data__,t)>-1}var er=va,tr=H;function ar(t,a){var r=this.__data__,n=tr(r,t);return n<0?(++this.size,r.push([t,a])):r[n][1]=a,this}var rr=ar,nr=La,lr=Ka,or=Za,sr=er,ir=rr;function j(t){var a=-1,r=t==null?0:t.length;for(this.clear();++a<r;){var n=t[a];this.set(n[0],n[1])}}j.prototype.clear=nr,j.prototype.delete=lr,j.prototype.get=or,j.prototype.has=sr,j.prototype.set=ir;var cr=j,dr=v,ur=J,fr=dr(ur,"Map"),mr=fr,ge=Ia,pr=cr,_r=mr;function hr(){this.size=0,this.__data__={hash:new ge,map:new(_r||pr),string:new ge}}var gr=hr;function yr(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}var br=yr,Cr=br;function Vr(t,a){var r=t.__data__;return Cr(a)?r[typeof a=="string"?"string":"hash"]:r.map}var U=Vr,wr=U;function $r(t){var a=wr(this,t).delete(t);return this.size-=a?1:0,a}var Sr=$r,Br=U;function xr(t){return Br(this,t).get(t)}var Er=xr,kr=U;function Nr(t){return kr(this,t).has(t)}var Dr=Nr,Ar=U;function Tr(t,a){var r=Ar(this,t),n=r.size;return r.set(t,a),this.size+=r.size==n?0:1,this}var Fr=Tr,Pr=gr,jr=Sr,Or=Er,Rr=Dr,zr=Fr;function O(t){var a=-1,r=t==null?0:t.length;for(this.clear();++a<r;){var n=t[a];this.set(n[0],n[1])}}O.prototype.clear=Pr,O.prototype.delete=jr,O.prototype.get=Or,O.prototype.has=Rr,O.prototype.set=zr;var Ir=O,ye=Ir,Mr="Expected a function";function ae(t,a){if(typeof t!="function"||a!=null&&typeof a!="function")throw new TypeError(Mr);var r=function(){var n=arguments,i=a?a.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var c=t.apply(this,n);return r.cache=o.set(i,c)||o,c};return r.cache=new(ae.Cache||ye),r}ae.Cache=ye;var Lr=ae,Yr=Lr,Gr=500;function Hr(t){var a=Yr(t,function(n){return r.size===Gr&&r.clear(),n}),r=a.cache;return a}var Ur=Hr,Wr=Ur,qr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kr=/\\(\\)?/g,Jr=Wr(function(t){var a=[];return t.charCodeAt(0)===46&&a.push(""),t.replace(qr,function(r,n,i,o){a.push(i?o.replace(Kr,"$1"):n||r)}),a}),Xr=Jr;function Zr(t,a){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=a(t[r],r,t);return i}var Qr=Zr,be=X,vr=Qr,en=ee,tn=te,an=1/0,Ce=be?be.prototype:void 0,Ve=Ce?Ce.toString:void 0;function we(t){if(typeof t=="string")return t;if(en(t))return vr(t,we)+"";if(tn(t))return Ve?Ve.call(t):"";var a=t+"";return a=="0"&&1/t==-an?"-0":a}var rn=we,nn=rn;function ln(t){return t==null?"":nn(t)}var on=ln,sn=ee,cn=fa,dn=Xr,un=on;function fn(t,a){return sn(t)?t:cn(t,a)?[t]:dn(un(t))}var $e=fn,mn=9007199254740991,pn=/^(?:0|[1-9]\d*)$/;function _n(t,a){var r=typeof t;return a=a==null?mn:a,!!a&&(r=="number"||r!="symbol"&&pn.test(t))&&t>-1&&t%1==0&&t<a}var hn=_n,gn=te,yn=1/0;function bn(t){if(typeof t=="string"||gn(t))return t;var a=t+"";return a=="0"&&1/t==-yn?"-0":a}var Se=bn,Cn=vt,Vn=$e,wn=hn,Be=Z,$n=Se;function Sn(t,a,r,n){if(!Be(t))return t;a=Vn(a,t);for(var i=-1,o=a.length,c=o-1,d=t;d!=null&&++i<o;){var m=$n(a[i]),y=r;if(m==="__proto__"||m==="constructor"||m==="prototype")return t;if(i!=c){var S=d[m];y=n?n(S,m,d):void 0,y===void 0&&(y=Be(S)?S:wn(a[i+1])?[]:{})}Cn(d,m,y),d=d[m]}return t}var Bn=Sn,xn=Bn;function En(t,a,r){return t==null?t:xn(t,a,r)}var W=En,kn=$e,Nn=Se;function Dn(t,a){a=kn(a,t);for(var r=0,n=a.length;t!=null&&r<n;)t=t[Nn(a[r++])];return r&&r==n?t:void 0}var An=Dn,Tn=An;function Fn(t,a,r){var n=t==null?void 0:Tn(t,a);return n===void 0?r:n}var q=Fn;const Pn={key:1,class:"footer"},jn=e.createTextVNode("\u63D0\u4EA4"),On=e.createTextVNode("\u91CD\u7F6E"),Rn=e.defineComponent({props:{disabled:{type:Boolean,default:!1},labelWidth:null,noSubmitBtn:{type:Boolean,default:!0},option:null,autoValidate:{type:Boolean,default:!0},modelValue:{default:{}},mergedValue:{default:{}},compact:{default:"normal"},rule:null,rules:null,noFooter:{type:Boolean,default:!1},beforeSubmit:null},emits:["update:api","ready","submit","reset","update:modelValue","update:mergedValue"],setup(t,{emit:a}){const r=t;let n={};e.watchEffect(()=>{n={...r.mergedValue,...r.modelValue}});const i=e.useAttrs(),o=e.ref(0);e.provide("a-form-create",{beforeButmitSeed:o});const c=e.computed(()=>{const _=r.option||{};return r.labelWidth&&W(_,"form.labelWidth",r.labelWidth),r.noSubmitBtn&&W(_,"submitBtn.show",!1),q(_,"submitBtn.size"),q(_,"form.size"),q(_,"resetBtn")||W(_,"resetBtn.show",!1),r.disabled&&W(_,"form.disabled",!0),_}),d=e.computed(()=>{var _,s;return(s=(_=c.value)==null?void 0:_.form)==null?void 0:s.disabled});let m=null;const y=async(..._)=>{let s;if(o.value++,!m)return console.warn("fc is null");if(await e.nextTick(),r.beforeSubmit){const u=await r.beforeSubmit({...m.formData()},..._);if(u===!1)return;u?s=u:s={}}else s={};const l={...m.formData(),...s};r.autoValidate&&await m.validate().catch(u=>{throw""}),a("submit",l,m,..._)},S=(..._)=>{if(!m)return console.warn("fc is null");m.resetFields(),a("reset",m,..._)},V=e.computed(()=>{const _=Object.assign({},r.modelValue,r.mergedValue);let s=r.rule||r.rules||[];return s=s.map(l=>Array.isArray(l)?aMaker.rawText(...l):l),{...i,rule:s,modelValue:_,"onUpdate:modelValue"(l){a("update:modelValue",l),n={...n,...l},a("update:mergedValue",n)},"onUpdate:api"(l){m=l,a("update:api",l),a("ready",l)}}});return e.ref(!1),(_,s)=>{const l=e.resolveComponent("form-create");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["a-form-create",[`compact-${t.compact}`]])},[e.unref(c)?(e.openBlock(),e.createBlock(l,e.mergeProps({key:0},e.unref(V),{option:e.unref(c)}),null,16,["option"])):e.createCommentVNode("",!0),e.unref(d)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Pn,[e.renderSlot(_.$slots,"footer",{submit:y,reset:S},()=>[r.noFooter?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.renderSlot(_.$slots,"before-footer"),e.createVNode(E,{class:"ph20",onClick:s[0]||(s[0]=u=>y()),type:"success",icon:"elementCircleCheckFilled"},{default:e.withCtx(()=>[jn]),_:1}),e.createVNode(E,{type:"warning",onClick:s[1]||(s[1]=u=>S()),icon:"elementRefreshLeft"},{default:e.withCtx(()=>[On]),_:1}),e.renderSlot(_.$slots,"after-footer")],64))])]))],2)}}}),Wl="",zn=e.defineComponent({props:{modelValue:{default:""},placeholder:{default:"\u589E\u52A0\u6807\u7B7E"},disabled:{type:Boolean,default:!1},spliters:{default:()=>[";"]}},emits:["update:modelValue"],setup(t,{emit:a}){const r=t,n=e.useAttrs(),i=e.computed(()=>{const d=[];if(r.modelValue){const m=r.spliters,y=new RegExp(m.join("|"),"g"),S=r.modelValue.split(y);for(const V of S)V.trim()&&d.push({text:V})}return d}),o=e.computed(()=>r.disabled),c=e.computed(()=>({addOnKey:[13,...r.spliters],...n,tags:i.value,modelValue:"",placeholder:r.placeholder,disabled:o.value,"onTags-changed"(d){const m=d.map(y=>y.text).join(r.spliters[0]+"");a("update:modelValue",m)}}));return(d,m)=>(e.openBlock(),e.createBlock(e.unref(Ae.default),e.mergeProps({class:"aVueTagsInput"},e.unref(c),{class:{aDisabled:e.unref(o)}}),null,16,["class"]))}}),ql="",xe=(t,a="warning",r)=>{const n={confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"};return M.ElMessageBox.confirm(t,(r==null?void 0:r.title)||"\u63D0\u793A",{...n,...r||{}}).then(()=>!0).catch(()=>!1)},In=t=>(e.pushScopeId("data-v-b86115dd"),t=t(),e.popScopeId(),t),Mn={key:0,class:"file-thumb"},Ln={key:1,class:"file-thumb-image"},Yn=["src"],Gn={key:2,class:"file-thumb-file"},Hn=["href"],Un={key:0,class:"flex ai-center"},Wn=In(()=>e.createElementVNode("p",{class:"cl-grey600 pl025"},"\u70B9\u51FB\u4E0A\u4F20\u6587\u4EF6",-1)),qn=e.createTextVNode("\u91CD\u9009\u6587\u4EF6"),Kn={key:2,class:"file-list"},Jn={class:"file-list-item"},Xn=["href"],Zn=e.createTextVNode("\u5220\u9664"),Qn=e.defineComponent({props:{label:{default:"\u9009\u62E9\u6587\u4EF6"},action:null,headers:null,modelValue:null,readonly:{type:Boolean,default:!1},singleFile:{type:Boolean,default:!1},fileType:{default:"all"}},emits:["update:modelValue"],setup(t,{emit:a}){const r=t,n=e.computed(()=>{const s=r.modelValue;if(r.singleFile){if(Array.isArray(s))throw new Error("singleFile\u4E3Atrue\u65F6, modelValue\u53EA\u80FD\u4E3A\u5355\u4E2A\u6587\u4EF6");return r.modelValue}else{if(!Array.isArray(s))throw new Error("singleFile\u4E3Afalse\u65F6, modelValue\u53EA\u80FD\u4E3A\u6587\u4EF6\u5217\u8868");return s||[]}}),i=s=>s==="all"?"*":s==="image"?"image/*":s==="file"?".doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf,.txt,.zip,.rar,.7z":Array.isArray(s)?s.map(i).join(","):"*",o=e.computed(()=>i(r.fileType)),c=["pdf","png","jpg","jpeg","gif"],d=e.ref(!1),m=e.reactive({accept:o,"show-file-list":!1,"before-upload"(s){d.value=!0},"on-success":(s,l,u)=>{const b=s==null?void 0:s.data;if(d.value=!1,!b){console.error("\u4E0A\u4F20\u5931\u8D25");return}if(r.singleFile)a("update:modelValue",b);else{const w=n.value;a("update:modelValue",[...w,b])}},"on-error"(s,l,u){const b=x.safeJsonParser(s.message);d.value=!1;const w=b==null?void 0:b.message;w?M.ElMessage.error(w):M.ElMessage.error("\u4E0A\u4F20\u5931\u8D25")}}),y=(s,l)=>{M.ElMessage.warning(`The limit is 3, you selected ${s.length} files this time, add up to ${s.length+l.length} totally`)},S=async s=>{const l=s.id;if(!await xe("\u786E\u5B9A\u5220\u9664\u9644\u4EF6\u5417\uFF1F"))return!1;if(r.singleFile)a("update:modelValue",null);else{const u=n.value;a("update:modelValue",u.filter(b=>b.id!==l))}return!0},V=s=>{const l=s.filePath;if(c.includes(s.fileType))window.open(l);else{const u=document.createElement("a");u.href=l,u.download=s.fileName,u.click()}},_=s=>{const l=["jpg","jpeg","png","gif","bmp"],u=s.fileType;if(u)return l.includes(u.toLowerCase());const b=s.filePath;if(b){const k=b.split(".").pop();return l.includes((k==null?void 0:k.toLowerCase())||"")}const w=s.fileName;if(w){const k=w.split(".").pop();return l.includes((k==null?void 0:k.toLowerCase())||"")}};return(s,l)=>{var T;const u=e.resolveComponent("elementUploadFilled"),b=e.resolveComponent("index-icon"),w=e.resolveComponent("index-upload"),k=e.resolveComponent("elementSelect"),f=e.resolveComponent("ElIcon"),B=e.resolveDirective("loading");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["AFileMgr",{singleFile:t.singleFile}])},[t.singleFile?(e.openBlock(),e.createElementBlock("div",Mn,[(T=e.unref(n))!=null&&T.filePath?_(e.unref(n))?(e.openBlock(),e.createElementBlock("div",Ln,[e.createElementVNode("img",{src:e.unref(n).filePath,alt:"\u56FE\u7247\u9884\u89C8"},null,8,Yn)])):(e.openBlock(),e.createElementBlock("div",Gn,[e.createElementVNode("span",{href:e.unref(n).url},e.toDisplayString(e.unref(n).fileName),9,Hn)])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[],64))])):e.createCommentVNode("",!0),t.readonly?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(w,e.mergeProps({key:1,headers:r.headers,action:r.action,limit:10,"on-exceed":y},e.unref(m)),{default:e.withCtx(()=>[r.singleFile?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[r.modelValue?(e.openBlock(),e.createBlock(E,{key:1,class:"lite no-ml"},{default:e.withCtx(()=>[qn]),_:1})):(e.openBlock(),e.createElementBlock("div",Un,[e.createVNode(b,{size:"24px",color:"#b8b8b8",class:"index-icon--upload"},{default:e.withCtx(()=>[e.createVNode(u)]),_:1}),Wn]))],64)):(e.openBlock(),e.createBlock(E,{key:1,class:"lite",type:"primary"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.label),1)]),_:1}))]),_:1},16,["headers","action"])),t.singleFile?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("ul",Kn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(n),(p,h)=>(e.openBlock(),e.createElementBlock("li",Jn,[e.createVNode(f,{class:"mr05",color:"#00dd00"},{default:e.withCtx(()=>[e.createVNode(k)]),_:1}),e.createElementVNode("span",{class:"item-name",href:p.url},e.toDisplayString(p.fileName),9,Xn),e.createVNode(E,{class:"lite ml-auto-i",type:"default",onClick:$=>V(p)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c.includes(p.fileType)?"\u9884\u89C8":"\u4E0B\u8F7D"),1)]),_:2},1032,["onClick"]),t.readonly?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(E,{key:0,class:"lite item-delete",type:"danger",onClick:$=>S(p)},{default:e.withCtx(()=>[Zn]),_:2},1032,["onClick"]))]))),256))]))],2)),[[B,d.value]])}}}),Kl="",vn=R(Qn,[["__scopeId","data-v-b86115dd"]]),el=e.defineComponent({props:{positionAbs:{type:Boolean}},setup(t,{emit:a}){const r=t,n=e.useAttrs(),i=e.computed(()=>({...n})),o="a-drawer-position-absolute",c=e.ref();return e.onMounted(()=>{e.watch(()=>r.positionAbs,d=>{var S,V;const m=(V=(S=c==null?void 0:c.value)==null?void 0:S.$refs)==null?void 0:V.drawerRef,y=m==null?void 0:m.parentElement;y&&(r.positionAbs?y.classList.add(o):y.classList.remove(o))},{immediate:!0})}),(d,m)=>{const y=e.resolveComponent("ElDrawer");return e.openBlock(),e.createBlock(y,e.mergeProps(e.unref(i),{"custom-class":"ADrawer",ref_key:"drawerEl",ref:c}),{default:e.withCtx(()=>[e.renderSlot(d.$slots,"default")]),_:3},16)}}}),Jl="",tl=e.defineComponent({props:{renderWhenReady:{type:Boolean,default:!0},virtual:{type:Boolean,default:!1}},setup(t,{emit:a}){const r=t,n=e.useAttrs(),i=e.computed(()=>r.renderWhenReady?o.value:!0),o=e.ref(!1),c=e.computed(()=>({...n,onShow(){var d;o.value=!0,(d=n==null?void 0:n.onShow)==null||d.call(n)}}));return(d,m)=>{const y=e.resolveComponent("ElPopover");return r.virtual?e.renderSlot(d.$slots,"content",{key:1},void 0,!0):(e.openBlock(),e.createBlock(y,e.mergeProps({key:0,class:"APopover"},e.unref(c)),{reference:e.withCtx(()=>[e.renderSlot(d.$slots,"reference",{hasReady:o.value},void 0,!0)]),default:e.withCtx(()=>[e.unref(i)?e.renderSlot(d.$slots,"default",{key:0},void 0,!0):e.createCommentVNode("",!0)]),_:3},16))}}}),Xl="",Ee=R(tl,[["__scopeId","data-v-04992717"]]),al={class:"ADateRange"},rl={key:0,class:"pr10"},nl=e.createElementVNode("span",{class:"label"},"\u4ECE",-1),ll=e.createElementVNode("span",{class:"label inner"},"\u5230",-1),ol={class:"label"},sl=e.createTextVNode("\u5E38\u7528\u65E5\u671F\u8303\u56F4"),il={class:"list flex wrap jc-center"},cl={class:"list-item"},dl=e.createTextVNode("1\u5468\u5185"),ul={class:"list-item"},fl=e.createTextVNode("2\u5468\u5185"),ml={class:"list-item"},pl=e.createTextVNode("1\u4E2A\u6708\u5185"),_l={class:"list-item"},hl=e.createTextVNode("3\u4E2A\u6708\u5185"),gl={class:"list-item"},yl=e.createTextVNode("6\u4E2A\u6708\u5185"),bl={class:"list-item"},Cl=e.createTextVNode("\u4E00\u5E74\u5185"),Vl=e.createTextVNode("\u65E5\u671F\u7C7B\u578B"),wl={class:"flex jc-center"},$l=e.createTextVNode("\u81EA\u5B9A\u4E49\u8303\u56F4"),Sl=e.createTextVNode("\u661F\u671F"),Bl=e.createTextVNode("\u6708\u4EFD"),xl=e.createTextVNode("\u5E74\u4EFD"),El=e.createElementVNode("div",{class:"h15"},null,-1),kl=e.defineComponent({props:{size:{default:""},modelValue:null,outputFormat:{default:""},defaultMode:{default:"date"},label:null,defaultValue:null},emits:["update:modelValue","update:start","update:end"],setup(t,{emit:a}){const r=t,n=new Date,i=new Date(n.getTime()-7*24*60*60*1e3),o=e.reactive({visible:!1,ref:null}),c=e.ref(null),d=e.ref(r.defaultMode),m=e.computed(()=>d.value!="date"),y=()=>{d.value="date"},S=e.computed(()=>d.value=="week"?"\u661F\u671F":d.value=="month"?"\u6708\u4EFD":"\u5E74\u4EFD");e.watch(d,async p=>{var h,$;o.visible=!1,p!="date"&&(await e.nextTick(),($=(h=c==null?void 0:c.value)==null?void 0:h.handleOpen)==null||$.call(h))});const V=(p,h=1)=>{const $=x.dayjs2();if(p=="week")l.value=$.toDate(),s.value=$.subtract(h,"week").toDate();else if(p=="month")l.value=$.toDate(),s.value=$.subtract(h,"month").toDate();else if(p=="year")l.value=$.toDate(),s.value=$.subtract(h,"year").toDate();else{V("week",h|1);return}o.visible=!1,u()},_=[],s=e.ref(),l=e.ref();e.watch(()=>r.modelValue,(p,h)=>{if(p&&h){const $=p.map(A=>x.dayjs2(A).format("YYYY-MM-DD")),D=h.map(A=>x.dayjs2(A).format("YYYY-MM-DD"));if($[0]===D[0]&&$[1]===D[1])return}p?(s.value=p[0]?x.dayjs2(p[0]).toDate():null,l.value=p[1]?x.dayjs2(p[1]).toDate():null):r.defaultValue?(s.value=r.defaultValue[0]?x.dayjs2(r.defaultValue[0]).toDate():null,l.value=r.defaultValue[1]?x.dayjs2(r.defaultValue[1]).toDate():null):(s.value=i,l.value=n),_[0]=new Date(s.value),_[1]=new Date(l.value)},{immediate:!0});const u=()=>{var A,K;const p=s.value,h=l.value;let $=!0;if($=$&&p&&p.getTime()==((A=_[0])==null?void 0:A.getTime()),$=$&&h&&h.getTime()==((K=_[1])==null?void 0:K.getTime()),$)return;_[0]=new Date(p),_[1]=new Date(h);debugger;p&&h&&p.getTime()>h.getTime()&&(s.value=h,l.value=p);let D;if(r.outputFormat){let F=r.outputFormat;F=="Y-M-D"?F="YYYY-MM-DD":F=="Y-M"?F="YYYY-MM":F=="Y"&&(F="YYYY"),D=[s.value,l.value].map(I=>I?x.dayjs2(I).format(F):null)}else D=[s.value,l.value];a("update:modelValue",D),a("update:start",D[0]),a("update:end",D[1])},b=e.computed(()=>({editable:!1,clearable:!1,size:r.size,type:d.value,"onVisible-change"(p){e.nextTick(()=>{if(!p){debugger;u()}})}})),w=async p=>{s.value=p},k=async p=>{l.value=p},f=e.computed(()=>({...b.value,"onUpdate:modelValue":w,modelValue:s.value})),B=e.computed(()=>({...b.value,"onUpdate:modelValue":k,modelValue:l.value})),T=e.computed(()=>({...b.value,"onUpdate:modelValue"(p){d.value=="month"?(s.value=x.dayjs2(p).startOf("month").toDate(),l.value=x.dayjs2(p).endOf("month").toDate()):d.value=="year"?(s.value=x.dayjs2(p).startOf("year").toDate(),l.value=x.dayjs2(p).endOf("year").toDate()):d.value=="week"&&(s.value=x.dayjs2(p).startOf("week").toDate(),l.value=x.dayjs2(p).endOf("week").toDate()),u(),y()},modelValue:s.value}));return(p,h)=>{const $=e.resolveComponent("ElDatePicker"),D=e.resolveComponent("index-divider"),A=e.resolveComponent("index-radio-button"),K=e.resolveComponent("index-radio-group"),F=e.resolveComponent("elementOperation"),I=e.resolveComponent("index-icon"),Ne=e.resolveComponent("index-button"),Yl=e.resolveComponent("elementClose");return e.openBlock(),e.createElementBlock("div",al,[t.label?(e.openBlock(),e.createElementBlock("span",rl,e.toDisplayString(t.label),1)):e.createCommentVNode("",!0),e.unref(m)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("span",ol,e.toDisplayString(e.unref(S))+"\u9009\u62E9",1),e.createVNode($,e.mergeProps(e.unref(T),{ref_key:"singleViewDatePickerRef",ref:c}),null,16)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[nl,e.createVNode($,e.normalizeProps(e.guardReactiveProps(e.unref(f))),null,16),ll,e.createVNode($,e.normalizeProps(e.guardReactiveProps(e.unref(B))),null,16)],64)),e.createVNode(Ee,{width:"360px","popper-class":"ADateRange",trigger:"click",ref:N=>e.unref(o).ref=N,visible:e.unref(o).visible,"onUpdate:visible":h[7]||(h[7]=N=>e.unref(o).visible=N)},{reference:e.withCtx(()=>[e.createVNode(Ne,{class:"more-btn",plain:"",circle:"",size:"small"},{default:e.withCtx(()=>[e.createVNode(I,null,{default:e.withCtx(()=>[e.createVNode(F)]),_:1})]),_:1})]),default:e.withCtx(()=>[e.createVNode(D,null,{default:e.withCtx(()=>[sl]),_:1}),e.createElementVNode("div",il,[e.createElementVNode("div",cl,[e.createVNode(E,{class:"lite",onClick:h[0]||(h[0]=N=>V("week",1))},{default:e.withCtx(()=>[dl]),_:1})]),e.createElementVNode("div",ul,[e.createVNode(E,{class:"lite",onClick:h[1]||(h[1]=N=>V("week",2))},{default:e.withCtx(()=>[fl]),_:1})]),e.createElementVNode("div",ml,[e.createVNode(E,{class:"lite",onClick:h[2]||(h[2]=N=>V("month",1))},{default:e.withCtx(()=>[pl]),_:1})]),e.createElementVNode("div",_l,[e.createVNode(E,{class:"lite",onClick:h[3]||(h[3]=N=>V("month",3))},{default:e.withCtx(()=>[hl]),_:1})]),e.createElementVNode("div",gl,[e.createVNode(E,{class:"lite",onClick:h[4]||(h[4]=N=>V("month",6))},{default:e.withCtx(()=>[yl]),_:1})]),e.createElementVNode("div",bl,[e.createVNode(E,{class:"lite",onClick:h[5]||(h[5]=N=>V("year",1))},{default:e.withCtx(()=>[Cl]),_:1})])]),e.createVNode(D,null,{default:e.withCtx(()=>[Vl]),_:1}),e.createElementVNode("div",wl,[e.createVNode(K,{class:"m-auto",modelValue:e.unref(d),"onUpdate:modelValue":h[6]||(h[6]=N=>e.isRef(d)?d.value=N:null)},{default:e.withCtx(()=>[e.createVNode(A,{size:"small",label:"date"},{default:e.withCtx(()=>[$l]),_:1}),e.createVNode(A,{size:"small",label:"week"},{default:e.withCtx(()=>[Sl]),_:1}),e.createVNode(A,{size:"small",label:"month"},{default:e.withCtx(()=>[Bl]),_:1}),e.createVNode(A,{size:"small",label:"year"},{default:e.withCtx(()=>[xl]),_:1})]),_:1},8,["modelValue"])]),El]),_:1},8,["visible"]),s.value||l.value?(e.openBlock(),e.createBlock(Ne,{key:3,class:"more-btn",plain:"",circle:"",size:"small",type:"info",onClick:h[8]||(h[8]=N=>(s.value=null,l.value=null,u(),y()))},{default:e.withCtx(()=>[e.createVNode(I,null,{default:e.withCtx(()=>[e.createVNode(Yl)]),_:1})]),_:1})):e.createCommentVNode("",!0)])}}}),Zl="",Nl={class:"label-content"},Dl=["innerHTML"],re=e.defineComponent({props:{modelValue:{default:""},disabled:{type:Boolean,default:!1},options:{default:()=>[]},keyField:{default:"id"},labelField:{default:"name"},justLabel:{type:Boolean,default:!1},placeholder:{default:"\u8BF7\u9009\u62E9"},disableAutoWidth:{type:Boolean,default:!1},blankTextPlaceholder:{default:"-"}},emits:["update:modelValue","data-ready","update:modelLabel"],setup(t,{emit:a}){const r=t,n=e.useAttrs();if(Array.isArray(r.modelValue)&&!r.justLabel)throw new Error("modelValue must be string or number when justLabel is false");const i=e.ref([]);e.watch(()=>r.options,async s=>{let l=await Promise.resolve(s).catch(w=>(console.error("ASelect options error",w),[]));l||(l=[]);const u=x.all2valueName(l,{valueGetField:r.keyField,nameGetField:r.labelField,valueSetField:"value",nameSetField:"label"});let b=u.find(w=>w.value==r.modelValue);a("data-ready",b,u),i.value=u},{immediate:!0}),e.watch(()=>[i,r.modelValue],async([s,l])=>{const u=s.value.find(b=>b.value==l);a("update:modelLabel",u==null?void 0:u.label)});const o=e.computed(()=>{let s={};return i.value.forEach(l=>{s[l.value+""]=l}),s}),c=e.computed(()=>o.value[r.modelValue+""]),d=e.computed(()=>{var s;return((s=c.value)==null?void 0:s.label)||r.placeholder}),m=e.computed(()=>Array.isArray(r.modelValue)?r.modelValue.length>1:!1),y=e.computed(()=>{var l;const s=r.modelValue;return Array.isArray(s)?s.length?s.map(u=>{var b;return((b=o.value[u+""])==null?void 0:b.label)||u}).join("<br/>"):r.blankTextPlaceholder:((l=c.value)==null?void 0:l.label)||r.blankTextPlaceholder}),S=e.computed(()=>!c),V=e.computed(()=>!c.value),_=e.computed(()=>({placeholder:r.placeholder,...n,modelValue:r.modelValue+"","onUpdate:modelValue"(s){const l=o.value[s];l?a("update:modelValue",l.value):a("update:modelValue",s)}}));return(s,l)=>{const u=e.resolveComponent("ElOption"),b=e.resolveComponent("ElSelect");return r.justLabel?(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["aSelect text-mode",{isEmpty:e.unref(V),noMatched:e.unref(S),multipleValueMode:e.unref(m)}]),innerHTML:e.unref(y)},null,10,Dl)):(e.openBlock(),e.createBlock(b,e.mergeProps({key:0,class:"aSelect"},e.unref(_),{class:{aDisabled:t.disabled,isEmpty:e.unref(V),isSelected:!e.unref(V),disableAutoWidth:t.disableAutoWidth}}),{prefix:e.withCtx(()=>[e.createElementVNode("p",Nl,e.toDisplayString(e.unref(d)),1)]),default:e.withCtx(()=>[e.renderSlot(s.$slots,"default"),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,w=>(e.openBlock(),e.createBlock(u,{key:w.value,label:w.label,value:w.value+""},null,8,["label","value"]))),128))]),_:3},16,["class"]))}}}),Ql="",ne=e.defineComponent({components:{ASelect:re},props:{apiParams:{default:""},requestWhenApiParamsBlank:{type:Boolean,default:!0},api:{required:!0,type:Function},listPath:{type:String,default:"data"}},setup(t,a){const r=e.ref([]);return e.watch(()=>t.apiParams,async n=>{!n&&!t.requestWhenApiParamsBlank?r.value=[]:r.value=t.api(n).then(i=>q(i,t.listPath,[]))},{immediate:!0}),()=>e.createVNode(re,e.mergeProps(a.attrs,{options:r.value}),null)}}),Al=(t,a="data.list",r="name",n="id")=>e.defineComponent({components:{SelectFromRequest:ne},setup(i,o){return()=>e.createVNode(ne,e.mergeProps({api:t,listPath:a,labelField:r,idField:n},o.attrs),null)}}),Tl=["form-options"],Fl={key:0,class:"footer"},Pl=e.createTextVNode("\u63D0\u4EA4"),jl=e.createTextVNode("\u91CD\u7F6E"),Ol=e.defineComponent({props:{disabled:{type:Boolean,default:!1},compact:{default:"normal"},labelWidth:null,noSubmitBtn:{type:Boolean,default:!0},autoValidate:{type:Boolean,default:!0},noFooter:{type:Boolean,default:!1},beforeSubmit:null,mergedValue:{default:()=>({})},formBinder:null,modelValue:{default:()=>({})}},emits:["update:api","ready","submit","reset","update:modelValue","update:mergedValue"],setup(t,{expose:a,emit:r}){const n=t,i=L.default.$form(),o=e.computed(()=>{const l=C.merge({},n.formBinder.option.value)||{};return n.labelWidth&&C.set(l,"form.labelWidth",n.labelWidth),n.noSubmitBtn&&C.set(l,"submitBtn.show",!1),C.get(l,"submitBtn.size"),C.get(l,"form.size"),C.get(l,"resetBtn")||C.set(l,"resetBtn.show",!1),n.disabled&&C.set(l,"form.disabled",!0),l});e.watchEffect(()=>{({...n.mergedValue,...n.modelValue})});const c=e.shallowRef(),d=l=>{c.value=l,n.formBinder.onMounted(l)},m=e.useAttrs(),y=e.computed(()=>{const l=n.formBinder;return{...m,...n.formBinder,disabled:l.disabled.value,rule:l.rule.value,option:o.value,onMounted:d}}),S=e.ref(0),V=async(...l)=>{let u;if(S.value++,await e.nextTick(),n.beforeSubmit){const w=await n.beforeSubmit({...c.value.formData()},...l);if(w===!1)return;w?u=w:u={}}else u={};const b={...c.value.formData(),...u};n.autoValidate&&await c.value.validate().catch(w=>{throw""}),y.value.onSubmit(b,c,...l),r("submit",b,c,...l)},_=(...l)=>{c.value.resetFields(),r("reset",c.value,...l)};a({handlerSubmit:V,handlerReset:_});const s=crypto.randomUUID();return console.log(s,"\u591A\u4E2A\u8868\u5355"),(l,u)=>{const b=e.resolveComponent("ElButton");return e.openBlock(),e.createElementBlock("div",{class:"FormCreateVue","form-options":e.unref(y)},[e.createVNode(e.unref(i),e.normalizeProps(e.guardReactiveProps(e.unref(y))),null,16),t.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Fl,[e.renderSlot(l.$slots,"footer",{submit:V,reset:_},()=>[t.noFooter?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.renderSlot(l.$slots,"before-footer"),e.createVNode(b,{class:"ph20",onClick:u[0]||(u[0]=w=>V()),type:"success"},{default:e.withCtx(()=>[Pl]),_:1}),e.createVNode(b,{type:"warning",onClick:u[1]||(u[1]=w=>_())},{default:e.withCtx(()=>[jl]),_:1}),e.renderSlot(l.$slots,"after-footer")],64))])]))],8,Tl)}}}),vl="",le=e.defineComponent({props:{modelValue:[String,Number],multi:Boolean},setup(t){return t.multi,()=>e.createVNode("div",{class:"{classes.join(' ')}"},[t.modelValue||"-"])}}),ke=e.defineComponent({props:{text:String,classList:[Array,String]},setup(t){const a=Array.isArray(t.classList)?t.classList.join(" "):t.classList;return()=>e.createVNode("div",{class:"fx1 ph05 cl-grey500 lh12 text-node "+a,innerHTML:t.text},null)}}),Rl=(t,a,r)=>(r||(r={}),r.field||(r.field=new Date().getTime()+""),{native:!1,...r||{},component:e.shallowRef(le),title:t,value:a}),zl={default:"",small:"6em",medium:"8em",large:"10em",exLarge:"14em"};g.aFCMaker=void 0,(t=>{const a=(n,i="")=>{if(n!=null&&n.size){const o=zl[n.size||"medium"]||n.size;C.set(n,"style.width",o),delete n.size}n!=null&&n.required&&(C.set(n,"effect.required",!0),delete n.required),n!=null&&n.colSpan&&(C.set(n,"col.span",n.colSpan),C.set(n,"col.xs",24),delete n.colSpan),i=="switch"&&(n!=null&&n.values&&(C.set(n,"props.activeValue",n.values[0]),C.set(n,"props.inactiveValue",n.values[1]),delete n.values),n!=null&&n.labels&&(C.set(n,"props.activeText",n.labels[0]),C.set(n,"props.inactiveText",n.labels[1]),delete n.labels))};t.number=(n,i,o=0,c={})=>(a(c),c!=null&&c.unit&&(C.set(c,"suffix",c.unit),C.set(c,"style.marginRight","0.25em")),{type:"number",field:n,title:i,value:o,...c}),t.date=(n,i,o={})=>(a(o),o!=null&&o.offsetDate&&(o.value=x.dayjs2().add(...o.offsetDate).format("YYYY-MM-DD")),{type:"DatePicker",field:n,title:i,...o}),t.input=(n,i,o={})=>(a(o),{type:"input",field:n,title:i,...o}),t.textarea=(n,i,o={})=>(C.set(o,"props.type","textarea"),t.input(n,i,o)),t.component=(n,i,o,c={},d={})=>(a(d),c&&!(d!=null&&d.props)&&C.set(d,"props",c),n=e.markRaw(n),{component:n,field:i,title:o,native:!1,...d}),t.rawText=(n,i,o={})=>(a(o),{component:e.markRaw(le),field:n,title:i,native:!1,...o}),t.mutilpRawText=(n,i,o={})=>(C.set(o,"props.multi",!0),t.rawText(n,i,o)),t.checkbox=(n,i,o,c={})=>{a(c);const d=o.map(([m,y,S])=>({value:m,label:y,disabled:S}));return{type:"checkbox",field:n,title:i,options:d,...c}},t.radio=(n,i,o,c={})=>t.checkbox(n,i,o,{type:"radio",...c}),t.aSwitch=(n,i,o={})=>(a(o,"switch"),{type:"switch",field:n,title:i,...o}),t.switcher=t.aSwitch,t.hidden=(n,i,o={})=>(a(o),{type:"hidden",field:n,value:i,...o});const r=e.markRaw(ke);L.default.component("TextNode",r),t.textNode=(n,i=[],o={})=>(a(o),C.set(o,"props.text",n),C.set(o,"props.classList",i),{type:"text-node",...o}),t.getTextSuffix=(n,i="",o="")=>({type:"span",style:o,class:"fch-item-fix "+i,children:[n]})})(g.aFCMaker||(g.aFCMaker={}));const Il=t=>{t.use(L.default)},Ml=t=>{const a=new x.BPromise,r=e.ref(),n=e.ref(),i=e.ref(),o=e.ref(!1),c=e.ref({}),d=()=>{let f={...t};return f||(f={}),f.labelWidth&&(C.set(f,"form.labelWidth",f.labelWidth),delete f.labelWidth),delete f.onSubmit,f};c.value=d();const m=f=>{var B;a._resolve(f),r.value=f,(B=t==null?void 0:t.onReady)==null||B.call(t,f)},y=async()=>{const f=await a;f.resetFields(),await e.nextTick(),f.clearValidateState()},S=async(f=!0)=>{await a,o.value=f,C.set(c.value,"form.disabled",f)},V=async f=>{const B=await a;n.value=f,C.set(c.value,"form.labelWidth",f),B.fields().forEach(T=>{B.updateRule(T,{wrap:{labelWidth:f}})})},_=async f=>{const B=await a;i.value=f,B.setValue(f)},s=C.debounce((f,B,...T)=>{t==null||t.onSubmit(f,B,...T)},(t==null?void 0:t.submitDebounceDelay)||300),l={onMounted:m,disabled:o,option:c,onSubmit:s,beforeSubmit:t==null?void 0:t.beforeSubmit,onReset:t==null?void 0:t.onReset,rule:e.ref([]),"onUpdate:api":f=>{a.resolve(f)}};return e.watch(()=>t.rule.value,f=>{f!=null&&f.length?l.rule.value=f:l.rule.value=[]},{immediate:!0}),{updateRule:async(f,B)=>{(await a).updateRule(f,B)},mergeRule:async(f,B)=>{(await a).mergeRule(f,B)},updateRules:async f=>{(await a).updateRules(f)},mergeRules:async f=>{(await a).mergeRules(f)},setFormData:_,fcOptionRef:c,disabledForm:S,fullReset:y,fcPromise:a,fcRef:r,handlerFcReady:m,formDataRef:i,setLabelWidth:V,labelWidthRef:n,formCreateAllBind:l}},Ll=Symbol();Object.defineProperty(g,"createForm",{enumerable:!0,get:()=>L.default}),Object.defineProperty(g,"maker",{enumerable:!0,get:()=>oe.maker}),g.AButton=E,g.ADateRange=kl,g.ADialog=Pe,g.ADrawer=el,g.AFileMgr=vn,g.AFormCreate=Rn,g.APage=Ie,g.APopover=Ee,g.ASelect=re,g.ATagInput=zn,g.FormCreateHelper=Ol,g.SelectFromRequest=ne,g.aFormCreateKey=Ll,g.generateSelect=Al,g.globalConfirm=xe,g.rowTextComponent=le,g.textNodeComponent=ke,g.textRule=Rl,g.useFormCreate=Ml,g.vueUseFormCreate=Il,Object.defineProperties(g,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
